document.addEventListener('DOMContentLoaded', () => {
    const toggles = document.querySelectorAll('.app-nav__toggle');

    toggles.forEach(toggle => {
      if (toggle.tagName.toLowerCase() === 'button') {
        toggle.addEventListener('click', () => {
          const sublist = toggle.nextElementSibling;
          if (sublist) {
            sublist.classList.toggle('app-nav__sublist--show');
            toggle.classList.toggle('app-nav__toggle--active');
          }
        });
      }
    });

    const activeLink = document.querySelector('.app-nav__toggle--active[href]');
    if (activeLink) {
      let parent = activeLink.closest('.app-nav__sublist');
      while (parent) {
        parent.classList.add('app-nav__sublist--show');
        const toggleBtn = parent.previousElementSibling;
        if (toggleBtn && toggleBtn.classList.contains('app-nav__toggle')) {
          toggleBtn.classList.add('app-nav__toggle--active');
        }
        parent = parent.parentElement.closest('.app-nav__sublist');
      }
    }
  });


  const toggleNav = document.getElementById('toggleNav');
  const nav = document.getElementById('nav');

  toggleNav.addEventListener('click', () => {
    const isExpanded = toggleNav.getAttribute('aria-expanded') === 'true';
    toggleNav.setAttribute('aria-expanded', String(!isExpanded));

    // toggle class to show/hide menu
    nav.classList.toggle('app-layout__sidebar--open', !isExpanded);
  });